# Code Writer Task: DASH3 - Travelers Map Rename & Recently Completed Split

**Ğ”Ğ°Ñ‚Ğ°:** 2026-01-08
**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚:** MEDIUM (Bug Fix + UX Improvement)
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** PENDING

---

## ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°

1. ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ½Ğ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ "Tourists Map" â€” Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² "Travelers on map"
2. ĞĞ° ĞºĞ°Ñ€Ñ‚Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ²ÑĞµ ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹, Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ Completed â€” ÑÑ‚Ğ¾ Ğ»Ğ¸ÑˆĞ½ÑÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ
3. ĞĞµÑ‚ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ° Ğ´Ğ»Ñ follow-up ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ñ Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ĞµĞ·Ğ´Ğ¾Ğº

---

## Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### 1. ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

| Ğ‘Ñ‹Ğ»Ğ¾ | Ğ¡Ñ‚Ğ°Ğ»Ğ¾ |
|------|-------|
| "Tourists Map (Office)" | "Travelers on map" |
| "Tourists Map (Agent)" | "My Travelers on map" |

### 2. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ

ĞĞ° ĞºĞ°Ñ€Ñ‚Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ **Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾**:
- âœ… **Upcoming** (ÑĞ¸Ğ½Ğ¸Ğ¹ Ğ¼Ğ°Ñ€ĞºĞµÑ€)
- âœ… **In Progress** (Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ Ğ¼Ğ°Ñ€ĞºĞµÑ€)
- âŒ ~~Completed~~ â€” ÑƒĞ±Ñ€Ğ°Ñ‚ÑŒ Ñ ĞºĞ°Ñ€Ñ‚Ñ‹

### 3. ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ»Ğ¾Ğº "Recently Completed"

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ¸Ğ»Ğ¸ ÑĞµĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ follow-up control:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ Recently Completed (Follow-up)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ  John Doe - Paris â†’ Rome              â”‚
â”‚     Completed: 3 days ago | Order: ORD-X â”‚
â”‚     [ğŸ“ Follow-up] [âœ“ Done]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ  Jane Smith - Barcelona               â”‚
â”‚     Completed: 5 days ago | Order: ORD-Y â”‚
â”‚     [ğŸ“ Follow-up] [âœ“ Done]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸:**
- ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ·Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 7 Ğ´Ğ½ĞµĞ¹ (1 Ğ½ĞµĞ´ĞµĞ»Ñ)
- Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°: Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑĞ²ĞµÑ€Ñ…Ñƒ
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Follow-up" â€” Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¶Ğµ)
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Done" â€” Ğ¿Ğ¾Ğ¼ĞµÑ‡Ğ°ĞµÑ‚ ĞºĞ°Ğº Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğ¹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

---

## Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ

### 1. `components/dashboard/TouristsMap.tsx`

```typescript
// Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
<h3 className="mb-4 text-lg font-semibold text-gray-900">
  {showAgentOnly ? "My Travelers on map" : "Travelers on map"}
</h3>

// Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ locations - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ upcoming Ğ¸ in-progress
const activeLocations = locations.filter(
  loc => loc.status === "upcoming" || loc.status === "in-progress"
);

// Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Completed Ğ¸Ğ· Ğ»ĞµĞ³ĞµĞ½Ğ´Ñ‹
// ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾:
// - Upcoming (ÑĞ¸Ğ½Ğ¸Ğ¹)
// - In Progress (Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹)
```

### 2. `components/dashboard/RecentlyCompletedList.tsx` (ĞĞĞ’Ğ«Ğ™)

```typescript
interface RecentlyCompletedProps {
  travelers: TouristLocation[];
  className?: string;
}

export default function RecentlyCompletedList({ travelers, className }: RecentlyCompletedProps) {
  // Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€: completed + Ğ·Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 7 Ğ´Ğ½ĞµĞ¹
  const recentlyCompleted = travelers.filter(t => {
    if (t.status !== "completed") return false;
    const completedDate = new Date(t.completedAt);
    const oneWeekAgo = new Date();
    oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
    return completedDate >= oneWeekAgo;
  });

  return (
    <div className={`rounded-lg bg-white p-6 shadow-sm ${className}`}>
      <h3 className="mb-4 text-lg font-semibold text-gray-900">
        ğŸ“‹ Recently Completed (Follow-up)
      </h3>
      {/* ... list items ... */}
    </div>
  );
}
```

### 3. `app/dashboard/page.tsx`

- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ `RecentlyCompletedList` Ñ€ÑĞ´Ğ¾Ğ¼ Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ğ¹
- ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ `touristLocations` Ğ² Ğ¾Ğ±Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°

---

## Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ TouristLocation

Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğµ `completedAt`:

```typescript
interface TouristLocation {
  id: string;
  name: string;
  location: [number, number];
  orderCode?: string;
  status?: "upcoming" | "in-progress" | "completed";
  completedAt?: string; // ISO date when trip was completed
  destination?: string; // For display in Recently Completed
}
```

---

## ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ¸

- [ ] Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ¸Ğ·Ğ¼ĞµĞ½Ñ‘Ğ½ Ğ½Ğ° "Travelers on map" / "My Travelers on map"
- [ ] ĞĞ° ĞºĞ°Ñ€Ñ‚Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Upcoming Ğ¸ In Progress
- [ ] Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ° ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ° (Ğ±ĞµĞ· Completed)
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ Ğ±Ğ»Ğ¾Ğº "Recently Completed (Follow-up)"
- [ ] Ğ’ Ğ±Ğ»Ğ¾ĞºĞµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ĞµĞ·Ğ´ĞºĞ¸ Ğ·Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 7 Ğ´Ğ½ĞµĞ¹
- [ ] ĞŸĞ¾ĞµĞ·Ğ´ĞºĞ¸ Ğ¾Ñ‚ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ (Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑĞ²ĞµÑ€Ñ…Ñƒ)

---

## Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½

### ĞšĞ°Ñ€Ñ‚Ğ° (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½Ğ½Ğ°Ñ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ºï¸ Travelers on map                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚         [Interactive Map]                â”‚
â”‚     ğŸ”µ Upcoming    ğŸŸ¢ In Progress        â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”µ Upcoming  ğŸŸ¢ In Progress             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Recently Completed (Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ±Ğ»Ğ¾Ğº)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ Recently Completed (Follow-up)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ  Client Name - Destination            â”‚
â”‚     2 days ago | ORD-XXX                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ  Client Name - Destination            â”‚
â”‚     5 days ago | ORD-YYY                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
